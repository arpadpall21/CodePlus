<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title> asyncaio </title> 
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous"> 
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" href="../../../Assets/stylesPages.css"> 
    <script src="../../../Assets//scriptPages.js"></script>
</head>
<body>
<h1> asyncaio (ver 4.0.0) </h1>
    <p> Updated ( 2022-05-08 )</p>
    <p class="sitenav"> <a href="../../../index.html">MySite></a>
        <a href="../../index.html">Python></a>
        <a href="../index.html">Built-in modules></a> asyncaio 
    </p>
    
    
    <p class="subSite"><a href=""> SubSite > </a></p>
    
    
<table class="table">
<caption>
    <span class="changeListOrder">[Ordered: <span>Alphabetically</span>]</span>
</caption>
    <tr>
        <th style="width:30%;"> Method / Property / statement ect... </th>
        <th> Description </th>
    </tr>
    <tr class="0">
        <td> 
            demo prop 
        </td>
        <td> 
            - demo description 
            <span class="browserSupport" title="updated : yyyy-mm-dd">
                <span><i class="fab fa-chrome"></i> 0/0 -webkit- </span>
                <span><i class="fab fa-firefox"></i>  </span>
                <span><i class="fab fa-opera"></i>  </span>
                <span><i class="fab fa-internet-explorer"></i><i class="fab fa-edge"></i>  </span>
                <span><i class="fab fa-safari"></i>  </span>
                <span><i class="fab fa-node-js"></i>  </span>
            </span>
        </td>
    </tr>




</table>
    <br>
    <details class="example" id="notes">
    <summary> Notes :</summary>
        <!-- <p> - paragraph removes the 'empty' message from the detail TAG -->
    </details>
<h2 style="color:green;"><u> Useful Links : </u></h2>
    
<h2 style="color:green;"><u> Remember This : </u></h2>
    
<h2 style="color:green;"><u> Description and Demonstration : </u></h2>





<!--

For Company software proprietary reasons I cannot name packages or other tools used by my company, so I'll refer them as A, B, etc... in my description


CV (Computer Vision) Description
- It's a complete containerised solution specialized for image and video processing
- supported features by CV: Document recognition, Human face recognition, face and hand gesture recognition (for liveness checking), reading id document for text recognition (text area cropping, text recognition), and more awesome CV tools that I developed but actualy cannot talk about here :)
- the container includes Http servers, image storage solution, serveral image processing neural networks integrated in multiple processes
- the supervisor supervises processes ruinning in the contianer, and the 'A' load distributor is responsible to balance the traffic load
- within the container processes are comunicating with each other as rpc client|server
- the video stream is handled by WebRtc, all incomming frames are stored by the storage solution in a specific way in order to not to overload the sotorage engine
- the project also includes a manualtest frontend page which is half public for customer demo only
- in one task severeal processes are included, ex: for the document text recognition pipeline included: the storeage process, the htttp rocess (obviously), a process including a neural netwrok making images 'more readable', another process which crop text areas using a specialized neural network, an another process which acually reads the text again with another neural network, on top of that there's custom text correction an area crop logig to correct potential mistakes

My role for this project: 
    - I develop new or optimalize existing features (according to requested tasks)
    - Integrate and performance test neural netwokrs in the project 
    - Updating tests to keep the code coverage above 80%
    - besidese my direct supervisor and the company CTO I'm the only developer working in this project 


Problem that I've solved in CV:
    1) - when I received the project the test code coverage was below 70%, I successfully raised this above 80%, so all features are automatically tested new 
    
    2) - I received chunky task with multiple points where:
        - all character recognition processes must be integrated in one sigle process
        - a new customized character recognition neural network must be integrated (in order to swap the old character recognition package)
        - the 'old' character recogtion package had to be completely removed from the project
    Challenges are: 
        - a CV task consist of multiple neural network layer, so how reorganize this in readable way
        - the new characther recognition neural newtork is not a package as before, so the neural network model has to be booted in a separate process where it's used (performance reasons)
        - another endpoint uses the 'old' character recognition package, so we need a way to use it with new character recognition neurla network 
    Solutions, further problems and solutions:
        - I came up with the solution to use the new character recognition process as a router for all character recogtion tasks, benefits of doing this: here we can boot up and use all character recognition neural newtroks, it's scalable if we want to use new or swap networks, in this process can import all dependencies that task pipelines need, the process number is scalable from the supervisor so it's easy to adjust all character recognition needs 
        - swapping a package by a neural network present a new problem, it's easy to import a package and use it as we like, but a neural network has to be booted up first, so booting up a newural network and passing it all over the place it's just very ugly an unreadable, my solution was to integrate the new neural network in a class, this way once we create an instance the network is booted and it's always available in that instance, so methods on that instance always use the already booted netwrok, then this class is simply imported in the new process and the newtork is booted up once we create an instance
        - the 'old' character recognition package had to be completely removed,the other endpoint had to be reorganized to use the new character recognitin neural netowrk, the 'old' way was to simply use the old package in the http process to perform the character recognition, but now we need to use the new network, for this I created an rpc request to the new process directly from the endpoint handler, the challenge here is that all the logic had to be rewriten partially in the new process partially in the endpoint handler 
    Thinking further:
        - It was not requested but I also integrated a grayscale image processing logic, it helps character recognition solutions to perform better, I did this in a configurable way for the main config file, this way we have the option to test which way the new network performs better





---------------------------------------------------------------------------------------------
1
---------------------------------------------------------------------------------------------
stage 1: high level overview 
    - read through 
    - create notes 
    - deciede what exactly will you document down 
    
stage 2:  low level overview
    - deeper understanding of all what you've taken down in stage 1
    - TEST
    
stage 3 : 
    - organize and document everything 
---------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------------
    
    - included in Python 3.4    
    - 
    
    
    
    - asyncio allows us to run asynchronous code 
    - def async fnName():
        - returns a corutine object
    
    
    - future :
        - low-level awaitable object 
    - task: 
        - passed corutine starts running when created (allows concurrent execution)
        - corutine return value accessible in await 
    - coroutine: 
        - async function / awaitable 
    - 3 awaitable objects, corutines, tasks, futures
    
    
    - we have to use the await keyword to wait for corutines 
    - the await keyword is only available inside async functions 
    
    
    - asyncio.run(<corutine>())
        - only one is allowed to run in one thread 
        - creates an event loop and closes at the end 
        - this is the main entry point 
        - high level event loop which takes care about all low level stuff
    - asyncio.sleep(<delay:secInt>, result=None) 
        - corutine 
        - creates a corutine that waits <sec> when called 
        - returns the set result 
    
    - asyncio.create_task(coro, name=None)
        - creates a task 
        - Python 3.7 (before it was asyncio.ensure_future())
        - 3.8 name argument
        - executes the corutine when called 
        - where the heck the corutine value is returned => well in await
    
    - asyncio.gather(coro|future, ..., return_exception=False)
        - run tasks concurently 
        - schedules all passed corutunes and futures as task and run them concurently 
        - if all finished successfully their result is returned in a list fail otherwise 
        - waits for all awaitable to finish before returning 
    
    - asyncio.wait_for(awaitable, delay:sec)
        - limits the wait time for the awaitable to comple
        - if awaitable takes loger than <delay> this method raises a asyncio.exceptions.TimeoutError, if not everithing is fine 
        - cancels awaitable when timeout occures
        
    - asyncio.wait(awaitable, ..., timeout=None, return_when=ALL_COMPLETED)
        - does not cancel awaitables on timeout 
        - timeout int or float <- for more precise time 
        - what awaitable is deprecated here
    
    - asyncio.shield(awaitable)
        - prevents the awaitable from cancelling 
    
    - asyncio.as_completed
    
    - concurrency !== parellelism 
    
    
    
    
    
    
?????????????????????????????????????????????????????????????????????????????????????????????
WRITE DOWN WHAT YOU DON'T UNDERSTAD OR MUST BE TESTED AS QUESTIONS HERE
?????????????????????????????????????????????????????????????????????????????????????????????
    * asyncio.gather()
        - runs the passed corutines and futures concurently 
    
    - asyncio.shield(aw)
        - WTF is this ???

    - hmmm... what to do with all those low level API :/
        - well we don't really need to create futures in API level 
        - event loop tools maybe good to document hm...
        - futures I won't document, lot of work :P
        - what I don't document should be welll linked!
        
    
    
-->
    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
    <hr><hr><hr><hr><hr>
    
    
<h2 class="headerExtra"><u> Title 1 </u></h2>
<h2 class="header"> Title 1.1 </h2>
<h3 class="header"> Title 1.1.1 </h3>
<h4 class="header"> Title 1.1.1.1 </h4>
    <p> - stuff to learn <mark>syntax or command (or some tchnical stuff)</mark> bla bla bla </p>
    <p> - stuff to learn <mark class="mark">highlights like file names and other things</mark> bla bla bla </p>
    <p style="text-decoration:underline;"> - important information is underlined </p>
    <p style="color:yellow;"> - very important information is written with yellow colors </p>
    <p style="background-color:yellow;"> - highly important information has yellow background color </p>
    <div style="background-color:red;">
        <p> - red background block means not learned or not tested information! </p>
        <p> - </p>
    </div>
    
    <pre class="syntax">
SYNTAX :    main syntax
            <em>literally used </em>
            <small>literally used optional </small>
            <prot style="color:#049500;">prototype chain</prot>
            <strong>required value </strong>
            <i>optional value </i>
                - some descriptions will come here (like arguments)
                - ??? (3 question marks) in syntax means not tested or not learned yet
                
            <span class="openable"> this is an openable element<div>
                <p> - openable elements listed here in paragraphs </p>
                <p> - </p>
            </div></span>
    </pre>
    
<details class="example">
<summary> DEMO </summary>
    <pre>
    examples of the current lessons 
    
// -----------------------------------------

// -----------------------------------------
    </pre>
</details>
    
    <pre class="cmd">
    command line demo 
    </pre>
    <pre class="formula">
    formula code (like conversion meter...)
    </pre>
<details class="example">
<summary> Example : </summary>
<h4 style="color:darkblue;"><u> example title </u></h4>
    <p> - live tests will come here </p>
        <details>
        <summary> CODE : </summary>
        <pre>
    copy of the exaple code 
        </pre>
        </details>
</details>
<!---------------------------------------------------------------------------------------------------------------------------------->    
<hr>
    
<h2 class="test" style=""><a href="TEST/index.html"> TEST > </a></h2>
    
    
    <br><br>
</body>
</html>
